\section{Metric spaces.}

X, $\rho\colon X \times X \to \R_+$
\begin{defn}$\rho$ --- \textbf{metric}
  \begin{enumerate}
    \item $\rho(x, y) \geq 0, = 0 \iff x = y$
    \item $\rho(x, y) = \rho (y, x)$
    \item $\rho(x, y) \leq \rho (x, z) + \rho (y, z)$
  \end{enumerate}
\end{defn}

\begin{defn}$(X, \rho)$ --- \textbf{Metric space}.\end{defn}

\begin{defn}$x = \lim x_{n} \iff \rho(x_{n}, x) \to 0$\end{defn}

$X, \tau = \Set{G \subset X}$

\begin{defn}
  Let $X$ be arbitrary set. Then system of its subsets $\tau$ is called a
  \textbf{topology} if $\colon$
  \begin{enumerate}
  \item $\varnothing, X \in \tau$
  \item $G_\alpha \in \tau, \alpha \in \mathscr{A} \implies
    \bigcup\limits_\alpha G_\alpha \in \tau$
  \item $G_1, \dotsc, G_n \in \tau \implies \bigcap\limits_{j = 1}^n G_j \in
    \tau$
  \end{enumerate}
And any set $G \in \tau$ is called \textbf{open}.
\end{defn}

\begin{defn}$(X, \tau)$ --- \textbf{Topological space}.\end{defn}

$x = \lim x_n \quad \forall G \in \tau: x \in G \quad \exists N: \forall n > N \quad x_n \in G$\\
G --- open in $\tau$ \\
$F = X \setminus G$ --- closed

\begin{defn}
  Given a metric space $(X, \rho)$ an \textbf{open ball} with radius r around a
  is defined as the set
  $B_r (a) = \Set{x | \rho(x, a) < r},\ r \in \R_+$
\end{defn}

\begin{stm}
  Any metric space gives rise to a topological space in a rather simple way.
  Let's call $G \subset X$ open if and only if $\forall x \in G$
  there exists some $r$ such that open ball $B_r(x)$ is contained in $G$.
\end{stm}

\begin{stm}
  $b \in B_{r_1} (a_1) \cap B_{r_2} (a_2) \implies \exists r_3 > 0: B_{r_3}
  (a_3) \subset B_{r_1} (a_1) \cap B_{r_2} (a_2)$
\end{stm}
\noindent

\begin{ex}
  $\R, \rho(x, y) = |x - y|$, MS
\end{ex}

\begin{ex}
  $\bar{x} = (x_1, \dotsc, x_n) \in \R^n, \rho(\bar{x}, \bar{y}) = \sqrt{\sum\limits_{j = 1}^n(x_j - y_j)^2}, MS$
\end{ex}

\begin{ex}
    \hspace{-1.9em}$\begin{aligned}[t]
      \bar{x} &= (x_1, \dotsc, x_n, \dotso) \in \R^\infty \\
      \alpha\bar{x} &= (\alpha x_1, \dotsc, \alpha x_n, \dotsc) \\
      \bar{x} + \bar{y} &= (x_1 + y_1, \dotsc, x_n + y_n, \dotsc)
  \end{aligned}$

      Let's define $\alim{\bar{x}_m}{m \to \infty}$
      \begin{itemize}
          \item{in $\R^n$:}
              $\bar{x}_n \to \bar{x} \iff \forall j = 1, \dotsc, n\quad\ \ \:\,x_j^{(m)} \xrightarrow[m \to \infty]{} x_j$
          \item{in $\R^\infty$:}
              $\bar{x}_m \to \bar{x} \overset{def}{\iff} \forall j = 1,2,3,\dotso \quad x_j^{(m)} \xrightarrow[m \to \infty]{} x_j$
      \end{itemize}
\end{ex}

\begin{defn}
  $\rho(\bar{x}, \bar{y}) \defeq \sum\limits_{n = 1}^\infty \dfrac{1}{2^n}\underbrace{\dfrac{|x_n - y_n|}{1 + |x_n - y_n|}}_{\phi(|x_n - y_n|)}$
  --- \textbf{Urysohn metric}.

  \noindent
  \begin{minipage}{.65\linewidth}
    $\displaystyle\phi(t) = \dfrac{t}{1 + t} \\ \\
    \phi(t_1) + \phi(t_2) \geq \phi(t_1 + t_2) \\ \\
    \phi(t_1) + \phi(t_2) = \dfrac{t_1}{1 + t_1} + \dfrac{t_2}{1 + t_2} \geq \dfrac{t_1}{1 + t_1 + t_2} + \dfrac{t_2}{1 + t_1 + t_2} \\ \\
    \phi(t_1) + \phi(t_2) \geq \dfrac{t_1 + t_2}{1 + t_1 + t_2} = \phi(t_1 + t_2)$
  \end{minipage}%
  \begin{minipage}{.35\linewidth}
    \begin{tikzpicture}
      \begin{axis}[
        width = \linewidth,
        xmin  = 0,
        xmax  = 15,
        domain= 0:15,
        ymax  = 1.2,
        samples = 100,
        minor tick num = 0 ]
        \addplot[thick]{x/(1+x)};
      \end{axis}
    \end{tikzpicture}
  \end{minipage}
  \begin{stm}
      $\rho(\bar{x}_m, \bar{x}) \xrightarrow[m \to \infty]{} 0 \iff x_j^{(m)} \to x_j\ \forall j$
  \end{stm}
  \begin{proof}\leavevmode
    \begin{itemize}
      \item $\Rightarrow$

      $f(|x^{(n)}_k - x_k|) \leq 2^k \rho(x^{(n)}, x)$ \\
      Let $\rho(x^{(n)}, x) \le \dfrac{\epsilon}{2^k}$, then $f(|x^{(n)}_k - x_k|) < \epsilon$ \\
      $|x^{(n)}_k - x_k| = t = \dfrac{1}{1 - f(t)} - 1$, then $t \to 0$
      \item $\Leftarrow$

      Let's choose $k_0$ for which $\sum\limits_{k=k_0+1}^{\infty} \dfrac{1}{2^k} < \epsilon$ \\
      Let's choose $n_0$ for which $\forall k \leq k_0, n > n_0: |x_k^{(n)} - x_k| < \epsilon$. \\
      Then $\rho(x^{(n)}, x) < \sum\limits_{k=1}^{k_0} \dfrac{\epsilon}{2^k} + \epsilon < 2 \epsilon$ \\
      Letting  $\epsilon \to 0$, we get what we want \qedhere
    \end{itemize}
  \end{proof}
  In this way $\R^\infty$ is a metrizable space.
\end{defn}

\begin{ex}
$X, \rho(x, y) \defeq
\begin{cases}
    0, & x = y\\
    1, & x \neq y
\end{cases}$ --- \textbf{Discrete metric}. \\
$x_n \to x,\ \epsilon = \dfrac{1}{2},\ \exists M:\ m > M \implies \rho(x_m, x) < \dfrac{1}{2} \implies\\
\rho(x_m, x) = 0 \implies x_m = x$
\end{ex}

\begin{defn}
    $(X, \tau);\ \forall A \subset X$
  \begin{align*}
     \inter{A}& \defeq \bigcup\limits_{G \subset A} G \textnormal{ is open}; \\
     \cl{A}& \defeq \bigcap\limits_{A \subset G} G \textnormal{ is closed}; \\
     \fr{A}& \defeq \cl{A} \setminus \inter{A}
  \end{align*}
\end{defn}

\noindent
Having a metric space $(X, \rho)$ one can describe closure of a set.

\begin{gather*}
    \rho(x, A) \defeq \inf\limits_{a \in A}\rho(x, a) \\
    \rho(A, B) \defeq \inf\limits_{\substack{a \in A\\b \in B}}\rho(a, b) \\
    \rho(x, A) = f(x), x \in X
\end{gather*}

\begin{stm}
  Function $f(x)$ is continuous.
\end{stm}

\begin{proof}
  $\forall x, y \in X \\
  f(x) = \rho(x, A) \underset{\forall \alpha \in A}{\leq} \rho(x, \alpha) \leq \rho(x, y) + \rho(y, \alpha) \\
  \forall \epsilon > 0\ \exists \alpha_\epsilon \in A:\ \rho(y, \alpha_\epsilon) < \rho(y, A) + \epsilon = f(y) + \epsilon \\
  f(x) \leq f(y) + \epsilon + \rho(x, y),\ \epsilon \to 0 \\
  \begin{cases}
    f(x) \leq f(y) + \rho(x, y) \\
    f(y) \leq f(x) + \rho(x, y)
  \end{cases} \implies |f(x) - f(y)| \leq \rho(x, y)$
\end{proof}

\begin{stm}
  $x \in \cl{A} \iff \rho(x, A) = 0$
\end{stm}
\noindent
Let's look at the metric spaces in terms of separation of sets from each other by open sets. \\
$x, y \\
r = \rho(x, y) > 0 \\
B_{\sfrac{r}{3}}(x),\ B_{\sfrac{r}{3}}(y)$ \\
In any metric space separability axiom is true.

\begin{thm}
  Any metric space is a normal space, \\
  i.e. $\forall\ closed\ disjoint\ F_1, F_2 \in X,\ \exists\ open\ disjoint\ G_1, G_2\colon F_j \in G_j,\ j = 1, 2$
\end{thm}

\begin{proof}
  $g(x) = \dfrac{\rho(x, F_1)}{\rho(x, F_1) + \rho(x, F_2)}$ --- continuous on X \\
  $x \in F_1,\ \cl{F_1} = F_1,\ \rho(x, F_1) = 0,\ g(x) = 0 \\
  x \in F_2,\ g(x) = 1$ \\
  Let's look at $(-\infty; \frac{1}{3}), (\frac{2}{3}, \infty)$ --- by continuity their inverse images under $g$ are open. \\
  $G_1 = g^{-1}(-\infty; \frac{1}{3}) \\
  G_2 = g^{-1}(\frac{2}{3}; \infty)$
\end{proof}

\begin{defn}
  Metric space is \textbf{complete} if $\rho(x_n, x_m) \to 0 \implies \exists x = \lim x_n \\
  \R^\infty$ --- complete (by completeness of the rational numbers). \\
  In complete metric spaces the nested balls principle is true.
\end{defn}

\begin{thm}
  X --- complete metric space, $\overline{V}_{r_n}$ --- system of closed balls.
  \begin{enumerate}
      \item $\overline{V}_{r_{n + 1}} \subset \overline{V}_{r_n}$ --- the system is nested.
      \item $r_n \to 0$
    \end{enumerate}
  \underline{Then:} $\bigcap\limits_n \overline{V}_{r_n} = \{a\}$
\end{thm}

\begin{proof}
  Let $b_n$ be centers of $\overline{V}_{r_n}, \\
  m \geq n,\ b_m \in \overline{V}_{r_n},\ \rho(b_m, b_n) \leq r_n \to 0\ \forall m \geq n \\
  \rho(b_m, b_n) \to 0 \xRightarrow{compl.} \exists a = \lim b_n$
  Since the balls are closed a $\in$ every ball. \\
  $r_n \to 0 \implies$ there is only one common point.
\end{proof}

\noindent
$(X, \tau)$ --- topological space
$\\A \subset X,\ \tau_a = \Set{G \cap A, G \in \tau}$ --- topology induced on $A$

\begin{defn}
  $X \textnormal{--- metric space},\ A \subset X,\ \cl{A} = X$ \\
  \underline{Then:} A --- \textbf{dense} in X \\
  \underline{If} $\inter{\cl{A}} = \varnothing$ A --- \textbf{nowhere dense} in X.
\end{defn}

\begin{note}
  It is easy to understand, that in metric spaces nowhere density means the following: \\
  $\forall \text{ ball } V\ \exists V' \subset V\colon V'$ contains no
  points from A.
\end{note}

\begin{defn}
  $X$ is called \textbf{first Baire category set}, if it can be written as at most
  countable union of $x_n$ each nowhere dense in $X$.
\end{defn}

\begin{thm}[Baire category theorem]
  Complete metric space is second Baire category set in itself.
\end{thm}

\begin{proof}
  Let $X$ be first Baire category set. \\
  $X = \bigcup\limits_n X_n \quad \forall \overline{V}\ X_1\ \textnormal{is nowhere dense}. \\
  \overline{V}_1 \subset \overline{V}\colon\ \overline{V}_1 \cap X_1\ = \varnothing \\
  X_2\ \textnormal{is nowhere dense}\ \overline{V}_2 \subset \overline{V}_1 \colon \overline{V}_2 \cap X_2 = \varnothing \\
  r_2 \leq \dfrac{r_1}{2} \\
  \vdots \\
  \{\overline{V}_n\},\ r_n \to 0,\ \bigcap\limits_n \overline{V}_n = \{a\},\ X =
  \bigcup X_n,\ \exists n_0 \colon a \in X_{n_0} \\
  X_{n_0} \cap \overline{V}_{n_0} = \varnothing \contr\ a \in \overline{V}_{n_0}$
\end{proof}

\begin{cor}
  Complete metric space without isolated points is uncountable.
\end{cor}

\begin{proof}
  No isolated points are present $\implies$ every point in the set is nowhere dense in it. Let $X$ be countable:
    $X = \bigcup\limits_n \{X_n\}$, then it is first Baire category set. $\contr$
\end{proof}

\begin{defn}
  $K$ --- \textbf{compact} if
  \begin{enumerate}
    \item $K = \cl{K}$
    \item \label{itm:precomp}$x_n \in K\ \exists n_1 < n_2 < \dotso\ x_{n_j} - \textnormal{converges in $X$}$.
  \end{enumerate}
  If only \ref{itm:precomp} is present, the set is called \textbf{precompact}.
\end{defn}

\begin{thm}[Hausdorff]
  Let $X$ --- metric space, $K$ --- closed in $X$. \\
  \underline{Then:} $K$ --- compact $\iff$ $K$ --- totally bounded, \\
  i.e. $\forall \epsilon > 0\ \exists a_1,\dotsc, a_p \in X \colon\ \forall b \in K\ \exists a_j \colon\ \rho(a_j, b) < \epsilon \\
  (a_1, \dotsc, a_p\text{ --- finite $\epsilon$-net})$
\end{thm}

\begin{proof}\leavevmode
  \begin{itemize}
    \item Totally bounded $\implies$ compact

      $K$ is totally bounded, $x_n \in K\ n_1 < n_2 < \dotsb < n_k < \dotsb,$
      $x_n$ converges in $K$
      \[\epsilon_k \downarrow \to 0\ \epsilon_1 \quad K \subset \bigcup\limits_{j = 1}^p \overline{V}_j,\ rad = \epsilon_1\qquad \text{($\epsilon_1$-net)} \]
      $n$ is finite $\implies$ one ball will contain infinetely many $x_n$ elements.

      Let's look at $\overline{V}_{j_0} \cap K$ --- totally bounded $= K_1, \diam{K_1} \leq 2\epsilon_1$ \\
      $\epsilon_2\quad K_1 \subset \bigcup\limits_{j =1}^n
      \overline{V'}_j,\ \mathrm{rad} = \epsilon_2.$

      Then one of $\overline{V'}$ contains infinitely many elements of the sequence contained in $K_1$.

      $\overline{V'}_{j_0} \cap K_1 = K_2,\ \diam{K_2} \leq 2\epsilon_2$ and so on.

      $K_n \supset K_{n+1} \supset K_{n+2} \supset \dotso,\ \diam{K_N} \leq 2\epsilon_n
      \xRightarrow{\text{by compl.}} \underbrace{\bigcap\limits_{n = 1}^\infty K_n}_{\diam{K_n} \to 0,\ \{x\}} \!\!\!\!\!\!\!\!\neq \varnothing$

      Take $x_{n_1}$ from $K_1$, $x_{n_2}$ from $K_2 \dotso$
    \item Compact $\implies$ totally bounded

      $K$ --- compact $\forall \epsilon\ \exists$ finite $\epsilon$-net? \\
      By contradiction: $\exists\epsilon_0 > 0\colon$\ finite $\epsilon_0$-net is impossible to construct. \\
    $\forall x_1 \in K\ \exists x_2 \in K \colon\ \rho(x_1, x_2) > \epsilon_0$ (or else system of $x_1$ --- finite $\epsilon$-net) \\
    $\{x_1, x_2\}$ - choose $x_3 \in K\colon \rho(x_3, x_i) > \epsilon_0,\ i = 1, 2$ and so on. \\
    $x_n \in K:\ n\ \neq m\ \rho(x_n, x_m) > \epsilon_0$ --- contains no converging subsequence $\implies$
    set is not a compact. $\contr$ \qedhere
  \end{itemize}
\end{proof}
